webpackJsonp([1],{"14Xc":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),n("board"),t._v(" "),t._m(1)],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h1",[t._v("Taasen")]),t._v(" "),n("p",[t._v("the game of Tryslmaistan chess")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("p",[n("a",{attrs:{href:"https://github.com/canmom/taasen"}},[t._v("source")]),t._v(" â€” based on "),n("a",{attrs:{href:"http://unicornjelly.com/taasen1.html"}},[t._v("rules")]),t._v(" by "),n("a",{attrs:{href:"http://jenniverse.com/"}},[t._v("Jennifer Diane Reitz")])])])}],s={render:r,staticRenderFns:i};e.a=s},"5mem":function(t,e,n){"use strict";e.a={selectable:"#000",nonselectable:"#5f5f5f",selected:"#FF0",pushed:"#F00"}},"6aRf":function(t,e){},"82Oe":function(t,e,n){"use strict";function r(t){n("rX1u")}var i=n("vrgC"),s=n("Qx28"),a=n("VU/8"),u=r,o=a(i.a,s.a,!1,u,null,null);e.a=o.exports},"8Kpg":function(t,e,n){"use strict";var r=n("sVEo");e.a={props:{x:Number,y:Number,up:{validator:function(t){return 1===t||-1===t}},r:Number},components:{Triangle:r.a},methods:{click:function(){this.$emit("move")}}}},"8MfB":function(t,e,n){"use strict";var r=n("P5kR");e.a={props:{x:Number,y:Number,up:{validator:function(t){return 1===t||-1===t}},r:Number},computed:{points:function(){var t=Object(r.a)(this.x,this.y,this.r,this.up);return t[0].x+","+t[0].y+" "+t[1].x+","+t[1].y+" "+t[2].x+","+t[2].y}}}},CvJW:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("polygon",{attrs:{points:t.points}})},i=[],s={render:r,staticRenderFns:i};e.a=s},EBP0:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("move-indicator",{attrs:{faction:t.toMove,pushed:t.toBePushed,moving:t.moving,crushed:t.crushed}}),t._v(" "),n("svg",{staticClass:"board",attrs:{viewBox:"0 0 4 3.5"}},[t._l(t.tiles,function(e,r){return n("tile",{key:r,attrs:{x:e.x,y:e.y,up:e.u,r:t.tileRadius,t:e.t}})}),t._v(" "),t._l(Array.from(t.pushed.values()),function(e){return n("pushed-overlay",{key:e.id,attrs:{x:t.tiles[e.loc].x,y:t.tiles[e.loc].y,up:t.tiles[e.loc].u,r:t.tileRadius}})}),t._v(" "),t._l(t.destinations,function(e,r){return n("destination-overlay",{key:r,attrs:{x:e.x,y:e.y,up:e.u,r:t.tileRadius},on:{move:function(e){t.movePiece(r)}}})}),t._v(" "),t._l(t.pieces,function(e){return n("piece",{key:e.id,attrs:{loc:e.loc,r:t.pieceRadius,piece:e.piece,faction:e.faction,starting:e.starting,state:e.state},on:{select:function(n){t.beginMoving(e)}}})})],2)],1)},i=[],s={render:r,staticRenderFns:i};e.a=s},KRCx:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("triangle",{staticClass:"pushedOverlay",attrs:{x:t.x,y:t.y,up:t.up,r:t.r}})],1)},i=[],s={render:r,staticRenderFns:i};e.a=s},LYzt:function(t,e,n){"use strict";var r=n("fZjL"),i=n.n(r),s=n("BO1k"),a=n.n(s),u=n("lHA8"),o=n.n(u),c=n("Zrlr"),l=n.n(c),h=n("opib"),d=n("qrqH"),v=n("82Oe"),f=n("kE7l"),p=n("WaFa"),y=n("SHix"),x=function t(e,n){l()(this,t),this.faction=e,this.piece=n,this.id=e+n,this.loc={red:"a1",green:"a7",blue:"d4"}[e],this.starting=!0,this.state="green"!==e?"selectable":"nonselectable"};e.a={data:function(){var t=[];return["red","green","blue"].map(function(e){["thaum","sciane","paupil"].map(function(n){t.push(new x(e,n))})}),{tiles:d.b,pieces:t,tileRadius:d.a,pieceRadius:.2*d.a,destinations:{},moving:null,pushed:new o.a,toMove:"red",toBePushed:null,crushed:[],pushedPreviousTurn:null,bluePieceMovedPreviousTurn:null}},components:{Tile:h.a,Piece:v.a,DestinationOverlay:f.a,PushedOverlay:p.a,MoveIndicator:y.a},methods:{opposingSide:function(){return"red"===this.toMove?"green":"red"},resetMoving:function(){this.moving=null,this.destinations={}},nextTurn:function(){var t=this.toMove;this.toMove=this.opposingSide();var e=!0,n=!1,r=void 0;try{for(var i,s=a()(this.pieces);!(e=(i=s.next()).done);e=!0){var u=i.value;u.faction===t||u===this.pushedPreviousTurn||u===this.bluePieceMovedPreviousTurn?u.state="nonselectable":u.state="selectable"}}catch(t){n=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}},getPushed:function(t){this.pushed.clear();var e={thaum:"sciane",sciane:"paupil",paupil:"thaum"}[this.moving.piece],n=!0,r=!1,i=void 0;try{for(var s,u=a()(d.b[t].p||d.b[t].a);!(n=(s=u.next()).done);n=!0){var o=s.value,c=!0,l=!1,h=void 0;try{for(var v,f=a()(this.pieces);!(c=(v=f.next()).done);c=!0){var p=v.value;p.loc===o&&p.piece===e&&p.faction!==this.toMove&&p.faction!==this.moving.faction&&this.pushed.add(p)}}catch(t){l=!0,h=t}finally{try{!c&&f.return&&f.return()}finally{if(l)throw h}}}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}},setUpPush:function(){this.toBePushed=this.opposingSide();var t=!0,e=!1,n=void 0;try{for(var r,i=a()(this.pieces);!(t=(r=i.next()).done);t=!0){var s=r.value;this.pushed.has(s)?s.state="pushed":s.state="nonselectable"}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}},movePiece:function(t){this.moving.loc=t,this.moving.starting=!1,this.pushedPreviousTurn=null,this.toBePushed?(this.pushed.clear(),this.pushedPreviousTurn=this.moving,this.toBePushed=null):("blue"===this.moving.faction?this.bluePieceMovedPreviousTurn=this.moving:this.bluePieceMovedPreviousTurn=null,this.getPushed(t)),this.resetMoving(),0!==this.pushed.size?(this.setUpPush(),1===this.pushed.size&&this.beginMoving(this.pushed.values().next().value)):this.nextTurn()},showDestinations:function(t){var e=!0,n=!1,r=void 0;try{for(var i,s=a()(d.b[t].a);!(e=(i=s.next()).done);e=!0){var u=i.value,o=!0,c=!0,l=!1,h=void 0;try{for(var v,f=a()(this.pieces);!(c=(v=f.next()).done);c=!0){var p=v.value;o=o&&p.loc!==u}}catch(t){l=!0,h=t}finally{try{!c&&f.return&&f.return()}finally{if(l)throw h}}o&&(this.destinations[u]=d.b[u])}}catch(t){n=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}},crushPiece:function(t){this.crushed.push(t),this.pieces.splice(this.pieces.indexOf(t),1),this.pushed.clear(),this.toBePushed=null,this.resetMoving(),this.nextTurn()},beginMoving:function(t){"pushed"===t.state||"selectable"===t.state?(this.resetMoving(),this.moving=t,t.state="selected",this.showDestinations(t.loc)):"selected"!==t.state||this.toBePushed||(this.resetMoving(),t.state="selectable"),this.toBePushed&&0===i()(this.destinations).length&&this.crushPiece(t)}}}},M93x:function(t,e,n){"use strict";function r(t){n("hlEH")}var i=n("xJD8"),s=n("14Xc"),a=n("VU/8"),u=r,o=a(i.a,s.a,!1,u,null,null);e.a=o.exports},Md1i:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{on:{click:function(e){t.$emit("move")}}},[n("triangle",{staticClass:"destination",attrs:{x:t.x,y:t.y,up:t.up,r:t.r}})],1)},i=[],s={render:r,staticRenderFns:i};e.a=s},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),i=n("M93x");new r.a({el:"#app",render:function(t){return t(i.a)}})},P5kR:function(t,e,n){"use strict";function r(t,e,n,r){return[{x:t,y:e-r*n},{x:t+n*Math.sqrt(3)/2,y:e+.5*r*n},{x:t-n*Math.sqrt(3)/2,y:e+.5*r*n}]}e.a=r},Qx28:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{class:t.elClass,on:{click:function(e){t.$emit("select")}}},[n("circle",{style:t.outlineStyle,attrs:{cx:t.x,cy:t.y,r:t.coreRadius+t.strokeWidth}}),t._v(" "),t.isSciane?n("line",{style:t.outlineStrokeStyle,attrs:{x1:t.x-t.scianeArmLength-t.strokeWidth/2,x2:t.x+t.scianeArmLength+t.strokeWidth/2,y1:t.y,y2:t.y}}):t._e(),t._v(" "),t.isSciane?n("line",{style:t.outlineStrokeStyle,attrs:{y1:t.y-t.scianeArmLength-t.strokeWidth/2,y2:t.y+t.scianeArmLength+t.strokeWidth/2,x1:t.x,x2:t.x}}):t._e(),t._v(" "),t.isSciane?n("line",{style:t.strokeStyle,attrs:{x1:t.x-t.scianeArmLength,x2:t.x+t.scianeArmLength,y1:t.y,y2:t.y}}):t._e(),t._v(" "),t.isSciane?n("line",{style:t.strokeStyle,attrs:{y1:t.y-t.scianeArmLength,y2:t.y+t.scianeArmLength,x1:t.x,x2:t.x}}):t._e(),t._v(" "),n("circle",{staticClass:"core",style:t.strokeStyle,attrs:{cx:t.x,cy:t.y,r:t.coreRadius}}),t._v(" "),t.isThaum?n("triangle",{style:t.strokeStyle,attrs:{x:t.x,y:t.y,r:.85*t.r,up:1}}):t._e()],1)},i=[],s={render:r,staticRenderFns:i};e.a=s},SHix:function(t,e,n){"use strict";function r(t){n("6aRf")}var i=n("yxz/"),s=n("xFBY"),a=n("VU/8"),u=r,o=a(i.a,s.a,!1,u,null,null);e.a=o.exports},TUcH:function(t,e,n){"use strict";function r(t){n("gR0n")}var i=n("LYzt"),s=n("EBP0"),a=n("VU/8"),u=r,o=a(i.a,s.a,!1,u,null,null);e.a=o.exports},Uiig:function(t,e){},WaFa:function(t,e,n){"use strict";function r(t){n("c6C7")}var i=n("dPoL"),s=n("KRCx"),a=n("VU/8"),u=r,o=a(i.a,s.a,!1,u,null,null);e.a=o.exports},c6C7:function(t,e){},dPoL:function(t,e,n){"use strict";var r=n("sVEo");e.a={props:{x:Number,y:Number,up:{validator:function(t){return 1===t||-1===t}},r:Number},components:{Triangle:r.a}}},gR0n:function(t,e){},hlEH:function(t,e){},jEC9:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("triangle",{class:t.elClass,attrs:{x:t.x,y:t.y,up:t.up,r:t.r}})},i=[],s={render:r,staticRenderFns:i};e.a=s},"jU+n":function(t,e,n){"use strict";var r=n("lHA8"),i=n.n(r),s=n("sVEo");e.a={props:{x:Number,y:Number,up:{validator:function(t){return 1===t||-1===t}},r:Number,t:{validator:function(t){return new i.a(["void","desert1","desert2","grass","sea"]).has(t)}}},computed:{elClass:function(){return"tile "+this.t}},components:{Triangle:s.a}}},jV9m:function(t,e){},kE7l:function(t,e,n){"use strict";function r(t){n("jV9m")}var i=n("8Kpg"),s=n("Md1i"),a=n("VU/8"),u=r,o=a(i.a,s.a,!1,u,null,null);e.a=o.exports},o9mN:function(t,e,n){"use strict";e.a={outer:{red:"#FF4452",green:"#64BC0D",blue:"#23F1FF"},inner:{red:"#820A13",green:"#306000",blue:"#00757C"}}},opib:function(t,e,n){"use strict";function r(t){n("Uiig")}var i=n("jU+n"),s=n("jEC9"),a=n("VU/8"),u=r,o=a(i.a,s.a,!1,u,null,null);e.a=o.exports},qrqH:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var r=1/Math.sqrt(3),i=3.1,s=1.5*-r,a={a1:{x:.5,y:i,u:1,t:"void",a:["a2"]},a3:{x:1.5,y:i,u:1,t:"desert2",a:["a2","a4"]},a5:{x:2.5,y:i,u:1,t:"desert2",a:["a4","a6"]},a7:{x:3.5,y:i,u:1,t:"void",a:["a6"]},a2:{x:1,y:i+s/3,u:-1,t:"desert1",a:["a1","b2","a3"]},a4:{x:2,y:i+s/3,u:-1,t:"grass",a:["a3","a5","b3","b5"],p:["a3","a5"]},a6:{x:3,y:i+s/3,u:-1,t:"desert1",a:["a5","b6","a7"]},b2:{x:1,y:i+s,u:1,t:"desert2",a:["a2","b3"]},b4:{x:2,y:i+s,u:1,t:"sea",a:[]},b6:{x:3,y:i+s,u:1,t:"desert2",a:["b5","a6"]},b3:{x:1.5,y:i+4*s/3,u:-1,t:"grass",a:["b2","c3","a4","b5"],p:["b2","c3"]},b5:{x:2.5,y:i+4*s/3,u:-1,t:"grass",a:["c5","b6","b3","a4"],p:["c5","b6"]},c3:{x:1.5,y:i+2*s,u:1,t:"desert2",a:["b3","c4"]},c5:{x:2.5,y:i+2*s,u:1,t:"desert2",a:["c4","b5"]},c4:{x:2,y:i+7*s/3,u:-1,t:"desert1",a:["c3","c5","d4"]},d4:{x:2,y:i+3*s,u:1,t:"void",a:["c4"]}}},rX1u:function(t,e){},sVEo:function(t,e,n){"use strict";var r=n("8MfB"),i=n("CvJW"),s=n("VU/8"),a=s(r.a,i.a,!1,null,null,null);e.a=a.exports},vrgC:function(t,e,n){"use strict";var r=n("fZjL"),i=n.n(r),s=n("pFYg"),a=n.n(s),u=n("lHA8"),o=n.n(u),c=n("sVEo"),l=n("qrqH"),h=n("P5kR"),d=n("5mem");e.a={props:{piece:{validator:function(t){return new o.a(["thaum","sciane","paupil"]).has(t)}},faction:{validator:function(t){return new o.a(["red","green","blue"]).has(t)}},loc:{validator:function(t){return"string"==typeof t&&2===t.length||"object"===(void 0===t?"undefined":a()(t))}},r:Number,starting:Boolean,state:{validator:function(t){return i()(d.a).includes(t)}}},computed:{offset:function(){if(this.starting){return Object(h.a)(0,0,2*this.r,1)[{thaum:0,sciane:1,paupil:2}[this.piece]]}return{x:0,y:0}},x:function(){return"string"==typeof this.loc?l.b[this.loc].x+this.offset.x:this.loc.x},y:function(){return"string"==typeof this.loc?l.b[this.loc].y+this.offset.y:this.loc.y},elClass:function(){return"piece "+this.piece+" "+this.faction},strokeWidth:function(){return.3*this.r},strokeStyle:function(){return{"stroke-width":this.strokeWidth}},outlineStyle:function(){return{stroke:"none",fill:d.a[this.state]}},outlineStrokeStyle:function(){return{stroke:d.a[this.state],"stroke-width":2*this.strokeWidth}},coreRadius:function(){return{thaum:1,sciane:.6,paupil:.8}[this.piece]*this.r},scianeArmLength:function(){return 1.1*this.r},isThaum:function(){return"thaum"===this.piece},isSciane:function(){return"sciane"===this.piece}},components:{Triangle:c.a}}},xFBY:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"indicator"}},[n("p",[n("svg",{attrs:{viewBox:"0 0 1 1"}},[n("triangle",{style:t.style,attrs:{x:t.x,y:t.y,r:t.rOuter,up:t.u}}),t._v(" "),n("triangle",{style:t.styleInner,attrs:{x:t.x,y:t.y,r:t.rInner,up:t.u}})],1),t._v(" "),n("strong",[t._v(t._s(t.faction))]),t._v(" "),null===t.pushed?n("span",[t._v("to move")]):n("span",[t._v("just moved")])]),t._v(" "),null!==t.pushed?n("p",{attrs:{id:"pushedindicator"}},[n("svg",{attrs:{viewBox:"0 0 1 1"}},[n("triangle",{style:t.stylePushed,attrs:{x:t.x,y:t.y,r:t.rOuter,up:t.u}}),t._v(" "),n("triangle",{style:t.stylePushedInner,attrs:{x:t.x,y:t.y,r:t.rInner,up:t.u}})],1),t._v(" "),n("strong",[t._v(t._s(t.pushed))]),t._v(" "),null!==t.moving?n("span",[t._v("to choose where pushed piece goes")]):n("span",[t._v("will be pushed")])]):t._e(),t._v(" "),null!==t.pushed&&null===t.moving?n("p",{attrs:{id:"choosepushedindicator"}},[n("svg",{attrs:{viewBox:"0 0 1 1"}},[n("triangle",{style:t.style,attrs:{x:t.x,y:t.y,r:t.rOuter,up:t.u}}),t._v(" "),n("triangle",{style:t.styleInner,attrs:{x:t.x,y:t.y,r:t.rInner,up:t.u}})],1),t._v(" "),n("strong",[t._v(t._s(t.faction))]),t._v(" to choose which piece to push\n  ")]):t._e(),t._v(" "),t.crushed.length?n("div",{attrs:{id:"crushedindicator"}},[n("h2",[t._v("crushed pieces:")]),t._v(" "),n("svg",{attrs:{viewBox:"0 0 8 1"}},t._l(t.crushed,function(t,e){return n("piece",{key:t.id,attrs:{loc:{x:.5+1.02*e,y:.5},r:.35,piece:t.piece,faction:t.faction,starting:0,state:"selectable"}})}))]):t._e()])},i=[],s={render:r,staticRenderFns:i};e.a=s},xJD8:function(t,e,n){"use strict";var r=n("TUcH");e.a={components:{Board:r.a}}},"yxz/":function(t,e,n){"use strict";var r=n("sVEo"),i=n("o9mN"),s=n("82Oe"),a=function(t){return"red"===t||"green"===t};e.a={data:function(){return{x:.5,y:.41,rOuter:.58,rInner:.3,u:-1}},computed:{style:function(){return{fill:"red"===this.faction?i.a.outer.red:i.a.outer.green}},styleInner:function(){return{fill:"red"===this.faction?i.a.inner.red:i.a.inner.green}},stylePushed:function(){return{fill:"red"===this.pushed?i.a.outer.red:i.a.outer.green}},stylePushedInner:function(){return{fill:"red"===this.pushed?i.a.inner.red:i.a.inner.green}}},props:{faction:{validator:a},pushed:{validator:function(t){return a(t)||null===t}},moving:null,crushed:null},components:{Triangle:r.a,Piece:s.a}}}},["NHnr"]);
//# sourceMappingURL=app.f9b5e1b6b246929f8be9.js.map